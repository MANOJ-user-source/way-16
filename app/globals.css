@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- Techâ€‘Luxe Design Tokens ---------- */
:root {
  --ink: #0a0a0b;
  --bg1: var(--ink);
  --gold-1: #e6c766; /* gold primary */
  --gold-2: #f0d585; /* gold light */
  --gold-3: #b89d3e; /* gold deep */
  --champ: #eae7da;  /* light surface */
  --blur: 46px;      /* blob blur strength */
  --glass: rgba(255,255,255,.06);
  --x: 50%;
  --y: 50%;
  --angle: 0deg;
  --sheen: 0deg;
  --nx: 50%;
  --ny: 50%;
}

/* Animate custom properties */
@property --angle { syntax: '<angle>'; inherits: false; initial-value: 0deg; }
@property --sheen { syntax: '<angle>'; inherits: false; initial-value: 0deg; }

/* Base */
html, body { height: 100%; }
body {
  background-color: var(--ink);
  color: #f5f7fa;
  overflow-x: hidden;
}

/* Subtle static background overlay (fallback) */
body::before {
  content: '';
  position: fixed;
  inset: -20% -10% -10% -10%;
  pointer-events: none;
  background:
    radial-gradient(60rem 40rem at 20% -10%, color-mix(in srgb, var(--gold-1) 18%, transparent), transparent),
    radial-gradient(50rem 35rem at 110% 10%, color-mix(in srgb, var(--gold-1) 12%, transparent), transparent);
  z-index: 0;
}

/* Film grain overlay */
.noise {
  position: fixed; inset: -50px; pointer-events: none; z-index: 0; opacity: .07;
  background-image: url('data:image/svg+xml;utf8,\
    <svg xmlns="http://www.w3.org/2000/svg" width="140" height="140" viewBox="0 0 140 140">\
      <filter id="n">\
        <feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/>\
        <feColorMatrix type="saturate" values="0"/>\
      </filter>\
      <rect width="100%" height="100%" filter="url(%23n)" opacity=".95"/>\
    </svg>');
  mix-blend-mode: overlay;
}

/* Golden blob following the cursor */
.blob {
  position: fixed; width: 60vmax; height: 60vmax; left: 0; top: 0; z-index: 0;
  transform: translate(-50%, -50%);
  border-radius: 50%; filter: blur(var(--blur)); pointer-events: none;
  background:
    radial-gradient(closest-side, color-mix(in srgb, #ffffff 18%, transparent), rgba(255,255,255,0) 70%),
    radial-gradient(circle at 30% 30%, color-mix(in srgb, var(--gold-2) 35%, transparent), transparent 55%),
    radial-gradient(circle at 70% 70%, color-mix(in srgb, var(--gold-1) 35%, transparent), transparent 60%);
  mix-blend-mode: screen;
  transition: opacity .4s ease;
}

/* Liquid Glass Navbar */
.nav {
  position: fixed; top: 18px; left: 50%; transform: translateX(-50%);
  z-index: 10; display: flex; align-items: center; gap: .75rem;
  padding: .75rem 1rem; border-radius: 999px; isolation: isolate;
  border: 1px solid transparent;
  background:
    linear-gradient(var(--glass), var(--glass)) padding-box,
    linear-gradient(135deg,
      color-mix(in srgb, var(--gold-1) 65%, transparent),
      color-mix(in srgb, var(--gold-2) 35%, transparent)) border-box;
  /* stronger watery optics */
  backdrop-filter: blur(20px) saturate(160%) contrast(112%) brightness(118%);
  -webkit-backdrop-filter: blur(20px) saturate(160%) contrast(112%) brightness(118%);
  box-shadow:
    0 12px 36px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.10),
    inset 0 -1px 0 rgba(0,0,0,.25);
  transition: top .7s cubic-bezier(.2,.8,.2,1), left .7s cubic-bezier(.2,.8,.2,1),
              right .7s cubic-bezier(.2,.8,.2,1), transform .7s cubic-bezier(.2,.8,.2,1),
              border-radius .7s ease, padding .3s ease;
}
.nav::before {
  content: ""; position: absolute; inset: 0; border-radius: inherit; pointer-events: none;
  background:
    radial-gradient(180px 140px at var(--nx) var(--ny), color-mix(in srgb, #ffffff 28%, transparent), transparent 70%),
    conic-gradient(from var(--sheen), color-mix(in srgb, #ffffff 14%, transparent), transparent 40% 60%, color-mix(in srgb, #ffffff 14%, transparent) 100%);
  mix-blend-mode: screen; opacity: .85;
  animation: sheen-rotate 9s linear infinite;
}
.nav::after {
  content: ""; position: absolute; inset: -1px; border-radius: inherit; pointer-events: none;
  background-image: url('data:image/svg+xml;utf8,\
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 400 400">\
      <defs>\
        <filter id="w">\
          <feTurbulence type="turbulence" baseFrequency="0.008" numOctaves="3" seed="7"/>\
          <feColorMatrix type="matrix" values="0 0 0 0 1  0 0 0 0 1  0 0 0 0 1  0 0 0 .12 0"/>\
        </filter>\
      </defs>\
      <rect width="100%" height="100%" filter="url(%23w)" fill="white"/>\
    </svg>');
  background-size: 180% 180%; opacity: .18; mix-blend-mode: soft-light;
  animation: caustics 14s ease-in-out infinite alternate;
}
@keyframes sheen-rotate { to { --sheen: 360deg; } }
@keyframes caustics { 0% { background-position: 0% 0%; } 100% { background-position: 100% 100%; } }

.brand {
  font-weight: 800; letter-spacing: .3px; padding: .35rem .6rem; border-radius: 999px; font-size: 1rem;
  background: linear-gradient(90deg, var(--gold-2), var(--gold-1));
  -webkit-background-clip: text; background-clip: text; color: transparent;
  text-shadow: 0 0 0 rgba(0,0,0,0);
}
.links { display: flex; align-items: center; gap: .25rem; }
.links a {
  text-decoration: none; color: #f3f4f6; font-weight: 600; font-size: .95rem;
  padding: .5rem .8rem; border-radius: 999px; position: relative;
}
.links a::after {
  content: ""; position: absolute; inset: 0; border-radius: inherit; opacity: 0;
  background:
    radial-gradient(120% 120% at 50% 0%, color-mix(in srgb, #ffffff 25%, transparent), transparent 60%),
    linear-gradient(90deg, transparent, color-mix(in srgb, #ffffff 12%, transparent), transparent);
  transition: opacity .25s ease;
}
.links a:hover::after { opacity: 1; }
.links a:hover { color: var(--champ); }

/* Docked (right-center) state */
.nav.dock-right {
  left: auto; right: 22px; top: 50%; transform: translateY(-50%);
  border-radius: 22px; padding: .75rem;
  flex-direction: column; align-items: stretch; gap: .5rem;
}
.nav.dock-right .brand { text-align: center; }
.nav.dock-right .links { flex-direction: column; align-items: stretch; gap: .35rem; }
.nav.dock-right .links a { text-align: center; }

/* Accessibility and mobile tweaks */
@media (prefers-reduced-motion: reduce) {
  .blob { display: none; }
  .links a::after { display: none; }
  .nav::before, .nav::after { display: none; }
}

/* Slightly larger on desktop, tighter on mobile */
@media (min-width: 1024px) {
  .nav { padding: .9rem 1.2rem; }
  .links a { font-size: 1rem; padding: .6rem .9rem; }
  .brand { font-size: 1.1rem; letter-spacing: .35px; }
}
@media (max-width: 520px) {
  .nav { padding: .5rem .6rem; gap: .5rem; }
  .links a { font-size: .85rem; padding: .35rem .55rem; }
  .brand { font-size: .95rem; }
}

@media (max-width: 380px) {
  .links { display: none; }
}

/* Hide navbar after scroll idle */
.nav.nav-hidden { opacity: 0; pointer-events: none; transition: opacity .35s ease; }

/* Selection color */
::selection { background: rgba(212, 175, 55, 0.35); color: #111; }
